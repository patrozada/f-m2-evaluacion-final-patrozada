"use strict";const inputEl=document.getElementById("show__title"),buttonEl=document.querySelector(".btn"),listEl=document.querySelector(".search__output"),favListEl=document.querySelector(".fav__list"),favArr=[],resultsArr=[],addToCache=function(){localStorage.setItem("fav",favArr)};function handleCache(){const t=localStorage.getItem(JSON.parse("fav"));t?favListEl.appendChild(t):addToCache()}const displayFav=function(){for(const t of favArr)favListEl.appendChild(t)},displayResponse=function(t){for(const e of t){const t=`${e.show.image}`,n="https://via.placeholder.com/210x295/ffffff/666666/?text=TV",o=`${e.show.name}`,a=document.createElement("li"),s=document.createElement("p"),c=document.createTextNode(o),l=document.createElement("img");s.appendChild(c),a.appendChild(s),a.appendChild(l),listEl.appendChild(a);const r=function(){a.classList.toggle("swap__style")},i=function(){favArr.push(a)},d=function(){i(),displayFav(),r(),addToCache()};if(a.addEventListener("click",d),l.setAttribute("alt",o+" image"),"null"===t)l.setAttribute("src",n);else{const t=`${e.show.image.medium}`;l.setAttribute("src",t)}a.setAttribute("tabIndex",0),resultsArr.push(a)}};function handleButtonClick(t){t.preventDefault();const e=inputEl.value;fetch(`http://api.tvmaze.com/search/shows?q=${e}`).then(t=>t.json()).then(displayResponse).catch(t=>console.error(`Ha sucedido un error: ${t}`))}console.log(resultsArr,favArr),buttonEl.addEventListener("click",handleButtonClick);