"use strict";const inputEl=document.getElementById("show__title"),buttonEl=document.querySelector(".btn"),listEl=document.querySelector(".search__output"),favListEl=document.querySelector(".fav__list"),favArr=[],resultsArr=[],addToCache=function(){localStorage.setItem("fav",favArr)},displayFav=function(){for(const t of favArr)favListEl.appendChild(t)},displayResponse=function(t){for(const e of t){const t=`${e.show.image}`,n="https://via.placeholder.com/210x295/ffffff/666666/?text=TV",o=`${e.show.name}`,s=document.createElement("li"),a=document.createElement("p"),l=document.createTextNode(o),c=document.createElement("img");a.appendChild(l),s.appendChild(a),s.appendChild(c),listEl.appendChild(s);const r=function(){s.classList.toggle("swap__style")},i=function(){favArr.push(s)},u=function(){r(),i(),displayFav(),localStorage.setItem("fav",favArr)};if(s.addEventListener("click",u),c.setAttribute("alt",o+" image"),"null"===t)c.setAttribute("src",n);else{const t=`${e.show.image.medium}`;c.setAttribute("src",t)}s.setAttribute("tabIndex",0),resultsArr.push(s)}};function handleButtonClick(t){t.preventDefault();const e=inputEl.value;fetch(`http://api.tvmaze.com/search/shows?q=${e}`).then(t=>t.json()).then(displayResponse).catch(t=>console.error(`Ha sucedido un error: ${t}`))}buttonEl.addEventListener("click",handleButtonClick);