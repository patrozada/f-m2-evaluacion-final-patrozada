{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst inputEl = document.getElementById('show__title');\nconst buttonEl = document.querySelector('.btn');\nconst listEl = document.querySelector('.search__output');\nconst favListEl = document.querySelector('.fav__list');\nconst buttonLogEl = document.querySelector('.log');\nconst favArr = [];\nconst resultsArr = [];\n\nconst addToCache = function(){\n  localStorage.setItem('fav',favArr);\n};\nconst displayFav = function(){\n  for (const fav of favArr){\n    favListEl.appendChild(fav);\n  }\n};\nconst displayResponse = function(showsArr){\n  for(const show of showsArr){\n    const imgObj =`${show.show.image}`;\n    const timeShow = show.show.schedule.time;\n    const imgSrcPh = 'https://via.placeholder.com/210x295/ffffff/666666/?text=TV';\n    const showName =`${show.show.name}`;\n    const newItem = document.createElement('li');\n    const newP = document.createElement('p');\n    const timeP = document.createElement('p');\n    const timeContent = document.createTextNode(timeShow);\n    const newContent = document.createTextNode(showName);\n    const newImg = document.createElement('img');\n    newP.setAttribute('class', 'title');\n    newP.appendChild(newContent);\n    newItem.setAttribute('class', 'card');\n    newItem.appendChild(newP);\n    newItem.appendChild(timeP);\n    timeP.appendChild(timeContent);\n    newItem.appendChild(newImg);\n    listEl.appendChild(newItem);\n\n    const swapColors = function(){//I'm aware this is not working as expected because it's inside the for loop, I'm trying to fix it in another branch.\n      newItem.classList.toggle('swap__style');\n    };\n    const addToFav = function(){\n      favArr.push(newItem);\n    };\n    const handleItemClick = function (){\n      swapColors();\n      addToFav();\n      displayFav();\n      addToCache();\n    };\n\n    newItem.addEventListener('click', handleItemClick);\n    newImg.setAttribute('alt', showName +' image');\n    if(imgObj === 'null'){\n      newImg.setAttribute('src', imgSrcPh);\n    }else{\n      const imgSrcMedium = `${show.show.image.medium}`;\n      newImg.setAttribute('src', imgSrcMedium);\n    }\n    newItem.setAttribute('tabIndex', 0);\n    resultsArr.push(newItem);\n  }\n};\n\nfunction handleButtonClick(e){\n  e.preventDefault();\n  const inputValue = inputEl.value;\n  fetch(`http://api.tvmaze.com/search/shows?q=${inputValue}`)\n    .then(response=>response.json())\n    .then(displayResponse)\n    .catch(error=> console.error(`Ha sucedido un error: ${error}`));\n}\nbuttonEl.addEventListener('click', handleButtonClick);\nfunction handleLogButton(){\n  const cardElArr =  document.querySelectorAll('.card');\n  for (const card of cardElArr){\n    const title = card.querySelector('.title');\n    console.log(title.innerHTML);\n  }\n}\nbuttonLogEl.addEventListener('click',handleLogButton);"]}